{% extends 'base.html' %} {% block head %}
<title>Products - Edit - Inventory Management System</title>
{% endblock %} {% block body %}
<h2>Products - Edit</h2>

<div class="products-list">
  <table>
    <tr>
      <th>+/-</th>
      <th>ID</th>
      <th>Name</th>
      <th>Description</th>
      <th>Quantity</th>
      <th>Price</th>
    </tr>
    {% for product in products %}
    <tr>
      {% if product.id == id %}

      <form method="post" action="{{ url_for('submit_product_edit') }}">
        <td>
          <button type="submit" class="button product-edit-submit-button">
            Submit
          </button>
          <button type="submit" class="button product-edit-cancel-button">
            Cancel
          </button>
        </td>

        <td>
          {{ product.id }}
          <input name="id" type="hidden" value="{{ product.id }}" />
        </td>

        <td>
          <div class="products-entry-column-edit-group">
            <label
              class="products-entry-column-edit-label"
              for="products-entry-column-edit-name"
              >Name</label
            >
            <input
              id="products-entry-column-edit-name"
              class="products-entry-column-edit-input"
              name="name"
              placeholder=""
              type="text"
              title="No leading or trailing whitespace"
              pattern="^[^\s].+[^\s]$"
              required
              value="{{ product.name }}"
            />
          </div>
        </td>
        <td>
          <div class="products-entry-column-edit-group">
            <label
              class="products-entry-column-edit-label"
              for="products-entry-column-edit-description"
              >Description (optional)</label
            >
            <input
              id="products-entry-column-edit-description"
              class="products-entry-column-edit-input"
              name="description"
              placeholder=""
              type="text"
              title="No leading or trailing whitespace"
              pattern="^[^\s].+[^\s]$"
              value="{{ product.description }}"
            />
          </div>
        </td>
        <td>
          <div class="products-entry-column-edit-group">
            <label
              class="products-entry-column-edit-label"
              for="products-entry-column-edit-quantity-available"
              >Quantity</label
            >
            <input
              id="products-entry-column-edit-quantity-available"
              class="products-entry-column-edit-input"
              name="quantity_available"
              placeholder=""
              type="number"
              title="No leading or trailing whitespace"
              required
              min="0"
              step="1"
              value="{{ product.quantity_available }}"
            />
          </div>
        </td>
        <td>
          <div class="products-entry-column-edit-group">
            <label
              class="products-entry-column-edit-label"
              for="products-entry-column-edit-price"
              >Price</label
            >
            <input
              id="products-entry-column-edit-price"
              class="products-entry-column-edit-input"
              name="price"
              placeholder=""
              type="number"
              title="No leading or trailing whitespace"
              required
              min="0.0"
              step="0.01"
              value="{{ product.price }}"
            />
          </div>
        </td>
      </form>

      {% else %}
      <td></td>
      <td>{{ product.id }}</td>
      <td>{{ product.name }}</td>
      <td>{{ product.description }}</td>
      <td>{{ product.quantity_available }}</td>
      <td>{{ product.price }}</td>
      {% endif %}
    </tr>
    {% endfor %}
  </table>
</div>
{% endblock %}
